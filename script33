-- LocalScript: ProClickPanelWithSwimBypass
-- Ù‚Ø±Ø§Ø± Ø¨Ø¯ÛŒÙ† Ø¯Ø§Ø®Ù„ StarterPlayerScripts

-- Services
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local LocalPlayer = Players.LocalPlayer
local PlayerGui = LocalPlayer:WaitForChild("PlayerGui")

-------------------------------------------------
-- GUI Create
-------------------------------------------------
local gui = Instance.new("ScreenGui")
gui.Name = "ProClickGUI"
gui.ResetOnSpawn = false
gui.Parent = PlayerGui

local main = Instance.new("Frame")
main.Size = UDim2.fromOffset(220, 160) -- Ø§ÙØ²Ø§ÛŒØ´ Ø§Ø±ØªÙØ§Ø¹ Ø¨Ø±Ø§ÛŒ Ø¯Ú©Ù…Ù‡Ù” Ø¬Ø¯ÛŒØ¯
main.Position = UDim2.fromScale(0.05, 0.4)
main.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
main.BorderSizePixel = 0
main.Active = true
main.Parent = gui
main.Name = "Main"
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 14)

-------------------------------------------------
-- Drag System (Mobile + PC)
-------------------------------------------------
do
	local dragging, dragStart, startPos

	local function update(input)
		local delta = input.Position - dragStart
		main.Position = UDim2.new(
			startPos.X.Scale,
			startPos.X.Offset + delta.X,
			startPos.Y.Scale,
			startPos.Y.Offset + delta.Y
		)
	end

	main.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1
		or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = main.Position

			input.Changed:Connect(function()
				if input.UserInputState == Enum.UserInputState.End then
					dragging = false
				end
			end)
		end
	end)

	UserInputService.InputChanged:Connect(function(input)
		if dragging and (
			input.UserInputType == Enum.UserInputType.MouseMovement
			or input.UserInputType == Enum.UserInputType.Touch
		) then
			update(input)
		end
	end)
end

-------------------------------------------------
-- Title
-------------------------------------------------
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 30)
title.BackgroundTransparency = 1
title.Text = "âš¡ Pro Click Panel"
title.Font = Enum.Font.GothamBold
title.TextSize = 16
title.TextColor3 = Color3.fromRGB(255, 200, 80)
title.Parent = main

-------------------------------------------------
-- Button Template
-------------------------------------------------
local function createButton(text, posY, color)
	local btn = Instance.new("TextButton")
	btn.Size = UDim2.new(0.9, 0, 0, 32)
	btn.Position = UDim2.new(0.05, 0, 0, posY)
	btn.BackgroundColor3 = color
	btn.Text = text
	btn.TextColor3 = Color3.new(1,1,1)
	btn.Font = Enum.Font.GothamBold
	btn.TextSize = 14
	btn.BorderSizePixel = 0
	btn.Parent = main
	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 10)
	return btn
end

-------------------------------------------------
-- Buttons
-------------------------------------------------
local fireBtn = createButton("ğŸ”¥ Fire ClickDetectors", 38, Color3.fromRGB(70,140,255))
local promptBtn = createButton("âš¡ Instant Prompt: OFF", 76, Color3.fromRGB(255,90,90))
local swimBtn = createButton("ğŸŒŠ Swim Disable: OFF", 114, Color3.fromRGB(255,90,90))

-------------------------------------------------
-- Fire ClickDetectors
-------------------------------------------------
local function fireAllClickDetectors()
	if not fireclickdetector then
		warn("fireclickdetector Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯")
		return
	end

	for _, d in ipairs(workspace:GetDescendants()) do
		if d:IsA("ClickDetector") then
			pcall(function()
				fireclickdetector(d)
			end)
		end
	end
end

fireBtn.MouseButton1Click:Connect(fireAllClickDetectors)

-------------------------------------------------
-- Instant ProximityPrompt (FIXED)
-------------------------------------------------
local originalHoldTimes = {}
local instantPromptEnabled = false

local function applyPromptState(prompt)
	if not prompt:IsA("ProximityPrompt") then return end

	-- Ø°Ø®ÛŒØ±Ù‡ Ù…Ù‚Ø¯Ø§Ø± Ø§ØµÙ„ÛŒ ÙÙ‚Ø· ÛŒÚ© Ø¨Ø§Ø±
	if originalHoldTimes[prompt] == nil then
		originalHoldTimes[prompt] = prompt.HoldDuration
	end
	if instantPromptEnabled then
		prompt.HoldDuration = 0
	else
		-- Ø¨Ø§Ø²Ú¯Ø±Ø¯Ø§Ù†ÛŒ Ù…Ù‚Ø¯Ø§Ø± Ø§ØµÙ„ÛŒ
		local original = originalHoldTimes[prompt]
		if original ~= nil then
			prompt.HoldDuration = original
		end
	end
end

local function refreshAllPrompts()
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("ProximityPrompt") then
			applyPromptState(obj)
		end
	end
end

-- Ù¾Ø±Ø§Ù…Ù¾Øªâ€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯
workspace.DescendantAdded:Connect(function(obj)
	if obj:IsA("ProximityPrompt") then
		task.wait()
		applyPromptState(obj)
	end
end)

-- Ø¯Ú©Ù…Ù‡ ON / OFF
promptBtn.MouseButton1Click:Connect(function()
	instantPromptEnabled = not instantPromptEnabled

	if instantPromptEnabled then
		promptBtn.Text = "âš¡ Instant Prompt: ON"
		promptBtn.BackgroundColor3 = Color3.fromRGB(80, 200, 120)
	else
		promptBtn.Text = "âš¡ Instant Prompt: OFF"
		promptBtn.BackgroundColor3 = Color3.fromRGB(255,90,90)
	end

	refreshAllPrompts()
end)

-------------------------------------------------
-- Swim Disable (Client-side best-effort)
-------------------------------------------------
local swimDisabled = false
local connections = {} -- Ù†Ú¯Ù‡Ø¯Ø§Ø±ÛŒ Ú©Ø§Ù†Ú©Ø´Ù†â€ŒÙ‡Ø§ Ø¨Ø±Ø§ÛŒ Ù‚Ø·Ø¹ Ø¯Ø± ØµÙˆØ±Øª Ù„Ø²ÙˆÙ…

-- Ú©Ù…Ú©â€ŒÚ©Ù†Ù†Ø¯Ù‡: Ø­Ø°Ù Body* Ø¯Ø§Ø®Ù„ Ú©Ø§Ø±Ø§Ú©ØªØ± (Ú©Ù‡ Ù…ÛŒØªÙˆÙ†Ù‡ Ø¨Ø§Ø¹Ø« Ø´Ù†Ø§ Ø¨Ø´Ù‡)
local function removeBodyForces(character)
	for _, obj in ipairs(character:GetDescendants()) do
		if obj:IsA("BodyVelocity") or obj:IsA("BodyForce") or obj:IsA("BodyPosition") or obj:IsA("VectorForce") or obj:IsA("AlignPosition") or obj:IsA("AlignOrientation") then
			pcall(function() obj:Destroy() end)
		end
	end
end

-- Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ù¾Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ø§Ø­ØªÙ…Ø§Ù„Ø§ "Ø¢Ø¨" Ù‡Ø³ØªÙ†Ø¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ù¾Ù†Ù‡Ø§Ù†â€ŒØ´Ø§Ù† Ú©Ù†
local function hideWaterPartsClientSide()
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("BasePart") then
			local ok, isWater = pcall(function()
				return (obj.Material == Enum.Material.Water) or (string.find(string.lower(obj.Name), "water") ~= nil)
			end)
			if ok and isWater then
				-- Ø§ÛŒÙ† Ø®Ø§ØµÛŒØª ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ client Ù…Ø­Ù„ÛŒ Ø§Ø«Ø± Ø¯Ø§Ø±Ø¯
				pcall(function()
					-- LocalTransparencyModifier Ù…Ù‚Ø¯Ø§Ø± Ø¨ÛŒÙ† 0..1 Ù…ÛŒÚ¯ÛŒØ±Ø¯Ø› 1 = Ú©Ø§Ù…Ù„Ø§ Ù¾Ù†Ù‡Ø§Ù† Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª
					obj.LocalTransparencyModifier = 1
				end)
				-- ØªÙ„Ø§Ø´ Ù…ÛŒÚ©Ù†ÛŒÙ… Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø±Ø§ Ù‡Ù… ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ù„Ù…Ø³ Ú©Ù†ÛŒÙ… (Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø¨Ø±Ø§ÛŒ Ø³Ø±ÙˆØ± Ù‡Ù… ØªÙ„Ø§Ø´ Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆØ¯ Ùˆ Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ‡ Ø´ÙˆØ¯)
				pcall(function() obj.CanCollide = false end)
			end
		end
	end
end

-- Ø¨Ø±Ú¯Ø±Ø¯Ø§Ù†Ø¯Ù† Ø­Ø§Ù„Øª Ù¾Ù†Ù‡Ø§Ù†â€ŒØ³Ø§Ø²ÛŒ (Ø¯Ø± ØµÙˆØ±Øª Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯Ù†)
local function unhideWaterPartsClientSide()
	for _, obj in ipairs(workspace:GetDescendants()) do
		if obj:IsA("BasePart") then
			local ok, isWater = pcall(function()
				return (obj.Material == Enum.Material.Water) or (string.find(string.lower(obj.Name), "water") ~= nil)
			end)
			if ok and isWater then
				pcall(function() obj.LocalTransparencyModifier = 0 end)
				-- Ù†Ø§Ø¯ÛŒØ¯Ù‡ Ú¯Ø±ÙØªÙ† Ø®Ø·Ø§ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø²ÛŒØ§Ø¨ÛŒ
			end
		end
	end
end

-- ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ ÙÙˆØ±Ø§Ù‹ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ø­Ø§Ù„Øª Ø´Ù†Ø§ Ø¨Ø±Ø§ÛŒ ÛŒÚ© Humanoid/Character
local function disableSwimImmediate(character)
	if not character or not character.Parent then return end
	local humanoid = character:FindFirstChildOfClass("Humanoid")
	local root = character:FindFirstChild("HumanoidRootPart") or character:FindFirstChild("Torso") or character:FindFirstChild("UpperTorso")
	if humanoid then
		-- Ø­Ø°Ù Ù†ÛŒØ±ÙˆÙ‡Ø§ÛŒ Ø§Ø­ØªÙ…Ø§Ù„ÛŒ
		removeBodyForces(character)

		-- ØªÙ„Ø§Ø´ Ø¨Ø±Ø§ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† State Swimming
		pcall(function() humanoid:ChangeState(Enum.HumanoidStateType.Running) end)
		-- Ø§Ú¯Ø± Ù…ØªØ¯ SetStateEnabled Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ø´Ù‡ØŒ Ø³Ø¹ÛŒ Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… Swimming Ø±Ùˆ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ù†ÛŒÙ… (Ø§ÛŒÙ† Ù…Ù…Ú©Ù†Ù‡ client-side Ø¹Ù…Ù„ Ú©Ù†Ù‡)
		pcall(function() humanoid:SetStateEnabled(Enum.HumanoidStateType.Swimming, false) end)

		-- Ú©Ù…ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø±Ùˆ Ø¨Ù‡ Ø¨Ø§Ù„Ø§ Ù‡Ù„ Ù…ÛŒØ¯ÛŒÙ… ØªØ§ Ø§Ø² Ø¢Ø¨ Ø¨ÛŒØ±ÙˆÙ† Ø¨ÛŒØ§Ø¯ (Ø§ÛŒÙ† Ø±ÙˆÛŒ Ú©Ù„Ø§ÛŒÙ†Øª Ø§Ø¹Ù…Ø§Ù„ Ù…ÛŒØ´Ù‡)
		if root then
			pcall(function()
				-- Ø­Ø±Ú©ØªÛŒ Ú©ÙˆÚ†Ú© Ø¨Ù‡ Ø¨Ø§Ù„Ø§ (ØªÙ†Ø¸ÛŒÙ… Ø¹Ø¯Ø¯ Ø§Ú¯Ø± Ù„Ø§Ø²Ù… Ø¨ÙˆØ¯)
				local safeOffset = Vector3.new(0, 3, 0)
				root.CFrame = root.CFrame + safeOffset
				-- Ùˆ Ø³Ø±Ø¹Øª Ø¹Ù…ÙˆØ¯ÛŒ Ø±Ùˆ ØµÙØ± Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…
				root.Velocity = Vector3.new(root.Velocity.X, 0, root.Velocity.Z)
			end)
		end
	end
end

-- ÙˆÙ‚ØªÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù† ÙˆØ§Ø±Ø¯ Ø¢Ø¨ ÛŒØ§ Ø­Ø§Ù„Øª Ø´Ù†Ø§ Ù…ÛŒØ´Ù‡ØŒ Ø§ÛŒÙ† Ø§Ø¬Ø±Ø§ Ù…ÛŒØ´Ù‡
local function onCharacterAdded(character)
	-- Ù‚Ø·Ø¹ Ú©Ø§Ù†Ú©Ø´Ù†â€ŒÙ‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ú©Ø§Ø±Ø§Ú©ØªØ± (Ø§ÛŒÙ…Ù† Ø³Ø§Ø²ÛŒ)
	if connections[character] then
		for _, c in ipairs(connections[character]) do
			pcall(function() c:Disconnect() end)
		end
	end
	connections[character] = {}

	-- ÙˆØµÙ„ Ø´Ø¯Ù† Ø¨Ù‡ StateChanged
	local humanoid = character:FindFirstChildOfClass("Humanoid")
	local root = character:WaitForChild("HumanoidRootPart", 5) -- ØµØ¨Ø± Ú©ÙˆØªØ§Ù‡ Ø¨Ø±Ø§ÛŒ Root

	if humanoid then
		local connState = humanoid.StateChanged:Connect(function(old, new)
			if swimDisabled and new == Enum.HumanoidStateType.Swimming then
				-- ÙˆÙ‚ØªÛŒ ÙˆØ¶Ø¹ÛŒØª Ø´Ù†Ø§ ÙØ¹Ø§Ù„ Ø´Ø¯ØŒ ÙÙˆØ±ÛŒ ØºÛŒØ±ÙØ¹Ø§Ù„Ø´ Ú©Ù†
				disableSwimImmediate(character)
			end
		end)
		table.insert(connections[character], connState)
	end

	-- ØªØ´Ø®ÛŒØµ Ø¨Ø±Ø®ÙˆØ±Ø¯ Ø¨Ø§ Ù¾Ø§Ø±Øªâ€ŒÙ‡Ø§ÛŒ Ø¢Ø¨ (Touched)
	if root then
		local connTouch = root.Touched:Connect(function(part)
			if not swimDisabled then return end
			local ok, isWater = pcall(function()
				return (part.Material == Enum.Material.Water) or (string.find(string.lower(part.Name), "water") ~= nil)
			end)
			if ok and isWater then
				-- ÙÙˆØ±Ø§Ù‹ Ø´Ù†Ø§ Ø±Ùˆ ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ù† Ùˆ Ø¢Ù† Ù¾Ø§Ø±Øª Ø¢Ø¨ Ø±Ø§ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ú©Ù„Ø§ÛŒÙ†Øª Ù¾Ù†Ù‡Ø§Ù† Ú©Ù†
				disableSwimImmediate(character)
				pcall(function()
					part.LocalTransparencyModifier = 1
					part.CanCollide = false
				end)
			end
		end)
		table.insert(connections[character], connTouch)
	end
end

-- Ø§Ú¯Ø± Ú©Ø§Ø±Ø§Ú©ØªØ± Ù‡Ù…ÛŒÙ† Ø§Ù„Ø§Ù† ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ù‡
if LocalPlayer.Character then
	onCharacterAdded(LocalPlayer.Character)
end
LocalPlayer.CharacterAdded:Connect(onCharacterAdded)

-- Ø¯Ú©Ù…Ù‡ ON / OFF
swimBtn.MouseButton1Click:Connect(function()
	swimDisabled = not swimDisabled

	if swimDisabled then
		swimBtn.Text = "ğŸŒŠ Swim Disable: ON"
		swimBtn.BackgroundColor3 = Color3.fromRGB(80, 200, 120)

		-- Ø§Ø¹Ù…Ø§Ù„ Ù…Ø®ÙÛŒâ€ŒØ³Ø§Ø²ÛŒ Ø¢Ø¨ Ø¨Ø±Ø§ÛŒ PartÙ‡Ø§ Ùˆ ØºÛŒØ±ÙØ¹Ø§Ù„Ø³Ø§Ø²ÛŒ ÙˆØ¶Ø¹ÛŒØª Ø´Ù†Ø§ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Ø§Ú©ØªØ± ÙØ¹Ù„ÛŒ
		hideWaterPartsClientSide()
		if LocalPlayer.Character then
			disableSwimImmediate(LocalPlayer.Character)
		end
	else
		swimBtn.Text = "ğŸŒŠ Swim Disable: OFF"
		swimBtn.BackgroundColor3 = Color3.fromRGB(255,90,90)

		-- Ø¨Ø±Ú¯Ø±Ø¯ÙˆÙ†Ø¯Ù† Ø­Ø§Ù„Øª Ø¢Ø¨â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…Ø§ Ù…Ø­Ù„ÛŒ Ù¾Ù†Ù‡Ø§Ù† Ú©Ø±Ø¯ÛŒÙ…
		unhideWaterPartsClientSide()
		-- Ø§Ú¯Ø± Ø®ÙˆØ§Ø³ØªÛŒ Ù…ÛŒØ´Ù‡ Ø¯ÙˆØ¨Ø§Ø±Ù‡ State Swimming Ø±Ùˆ ÙØ¹Ø§Ù„ Ú¯Ø°Ø§Ø´Øª (Ù…Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ù…Ø´Ø®Øµ Ú©Ø§Ø±ÛŒ Ù†Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ… ØªØ§ Ø¨Ø§Ø²ÛŒ Ø±ÙØªØ§Ø± Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ø±Ø§ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯)
	end
end)

-------------------------------------------------
-- Color Animation (visual)
-------------------------------------------------
task.spawn(function()
	while true do
		for h = 0, 1, 0.02 do
			title.TextColor3 = Color3.fromHSV(h, 0.8, 1)
			task.wait(0.05)
		end
	end
end)
